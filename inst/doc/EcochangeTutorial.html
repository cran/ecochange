<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Wilson Lara (wilarhen@gmail.com), Victor Gutierrez (victorhugo@temple.edu)" />


<title>Introduction to the package ecochange</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to the package ecochange</h1>
<h4 class="author">Wilson Lara (<a href="mailto:wilarhen@gmail.com" class="email">wilarhen@gmail.com</a>), Victor Gutierrez (<a href="mailto:victorhugo@temple.edu" class="email">victorhugo@temple.edu</a>)</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The R-package <span style="font-family:courier; font-size:1em;">ecochange</span> can assist users in monitoring ecosystem changes by computing biodiversity indicators related to structural essential biodiversity variables, including ecosystem extent, horizontal structure, and ecosystem fragmentation.</p>
<p>The package requires minimally the name of an administrative unit or a user-defined polygon and the name of a remote sensing product. The names of administrative units come from Geographic Administrative Data Maps (GADM). Remote sensing products consist of 16 different data layers that can be downloaded using the package functionality from three global databases: Forest Cover (GFC; Hansen et al., 2013), Tree-canopy Cover (TC; Sexton et al., 2013), and Water Surface (GWS; Pekel et al., 2017). The package can also process other custom-based datasets.</p>
<p><span style="font-family:courier; font-size:1em;">ecochange</span> harmonizes all remote sensing products to the geometry of the polygon. Then it combines the datasets to produce a variety of spatial products, indicators, statistics and graphs. Most arguments are inherited by different functions to make the coding more efficient.</p>
</div>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>Users can install the package and the dependencies running <span style="font-family:courier; font-size:1em;">install.packages()</span>. They can load it using either <span style="font-family:courier; font-size:1em;">require()</span> or <span style="font-family:courier; font-size:1em;">library()</span>. Users must be sure that all dependencies are correctly installed.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages(&#39;ecochange&#39;)</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">require</span>(<span class="st">&#39;ecochange&#39;</span>)</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">dependencies &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;raster&quot;</span>,<span class="st">&quot;sf&quot;</span>,<span class="st">&quot;gdalUtilities&quot;</span>,<span class="st">&quot;readr&quot;</span>,<span class="st">&quot;rgdal&quot;</span>,<span class="st">&quot;parallel&quot;</span>,<span class="st">&quot;curl&quot;</span>,<span class="st">&quot;ggplot2&quot;</span>,<span class="st">&quot;graphics&quot;</span>,<span class="st">&quot;rgeos&quot;</span>,<span class="st">&quot;rvest&quot;</span>,<span class="st">&quot;landscapemetrics&quot;</span>,<span class="st">&quot;tibble&quot;</span>,<span class="st">&quot;utils&quot;</span>,<span class="st">&quot;xml2&quot;</span>,<span class="st">&quot;dplyr&quot;</span>,<span class="st">&quot;R.utils&quot;</span>,<span class="st">&quot;httr&quot;</span>,<span class="st">&quot;getPass&quot;</span>,<span class="st">&quot;methods&quot;</span>,<span class="st">&quot;rlang&quot;</span>,<span class="st">&quot;forcats&quot;</span>,<span class="st">&quot;lattice&quot;</span>,<span class="st">&quot;rasterDT&quot;</span>,<span class="st">&quot;data.table&quot;</span>,<span class="st">&quot;viridis&quot;</span>,<span class="st">&quot;stats&quot;</span>,<span class="st">&quot;rasterVis&quot;</span>)</a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co"># Test that all dependencies are available. Values in the next list must be all TRUE</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="kw">sapply</span>(dependencies, require, <span class="dt">character.only =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="downloading-spatial-data" class="section level2">
<h2>Downloading spatial data</h2>
<p>The function <span style="font-family:courier; font-size:1em;">getrsp()</span> downloads a data tile for a selected RS product covering a polygon. Its first argument can either be the name of an administrative unit or a polygon.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># The getGADM() function provides the names of administrative units. By default, it shows level 2 administrative units in the country of Colombia but those settings can be changed through the parameters level and country</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">getGADM</span>()</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co"># List the products that can be downloaded with ecochange</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">listGP</span>()</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co"># Download a layer containing water occurrence for the municipality</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co"># of Chimichagua</span></a>
<a class="sourceLine" id="cb2-9" title="9">waterocc=<span class="kw">getrsp</span>(<span class="st">&quot;Chimichagua&quot;</span>, <span class="dt">lyrs=</span><span class="kw">c</span>(<span class="st">&quot;occurrence&quot;</span>))</a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co"># the object is downloaded by default to a temporary folder.</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co"># Users can define a different path using the argument path()</span></a>
<a class="sourceLine" id="cb2-13" title="13">waterocc</a>
<a class="sourceLine" id="cb2-14" title="14"></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="co"># Let&#39;s plot the object</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="kw">plot</span>(<span class="kw">raster</span>(waterocc[<span class="dv">1</span>]))</a></code></pre></div>
</div>
<div id="downloading-resizing-reprojecting-and-harmonizing-datasets" class="section level2">
<h2>Downloading, resizing, reprojecting and harmonizing datasets</h2>
<p>The function <span style="font-family:courier; font-size:1em;">rsp2ebv()</span> automates the downloading, reprojection and cropping of the dataset of interest to a given polygon. It can inherit arguments in the previous <span style="font-family:courier; font-size:1em;">getrsp()</span>. The function will detect whether the file was already downloaded to avoid download it again.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">wo=<span class="kw">rsp2ebv</span>(<span class="st">&#39;Chimichagua&#39;</span>, <span class="dt">lyrs =</span> <span class="kw">c</span>(<span class="st">&#39;occurrence&#39;</span>), <span class="dt">mc.cores =</span> <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">plot</span>(wo)</a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co"># check that the projection is different to the file that was originally downloaded</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">crs</span>(<span class="kw">raster</span>(waterocc[<span class="dv">1</span>]))</a>
<a class="sourceLine" id="cb3-6" title="6"><span class="kw">crs</span>(wo)</a></code></pre></div>
<p>The <span style="font-family:courier; font-size:1em;">rsp2ebv()</span> can also be implemented to download and harmonize several datasets simultaneously.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">ebv &lt;-<span class="st"> </span><span class="kw">rsp2ebv</span>(<span class="st">&#39;Chimichagua&#39;</span>, <span class="dt">lyrs =</span> <span class="kw">c</span>(<span class="st">&#39;treecover2000&#39;</span>,<span class="st">&#39;lossyear&#39;</span>), <span class="dt">mc.cores =</span> <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">plot</span>(ebv)</a></code></pre></div>
</div>
<div id="deriving-ecological-changes" class="section level2">
<h2>Deriving ecological changes</h2>
<p>Function <span style="font-family:courier; font-size:1em;">echanges()</span> can produce <span style="font-family:courier; font-size:1em;">RasterStack</span> ecosystem-change representations by masking cell values in a layer of ecosystem changes over a target ecosystem variable.</p>
<p>This function can process datasets previously harmonized with <span style="font-family:courier; font-size:1em;">rsp2ebv()</span>. It can also inherit arguments in <span style="font-family:courier; font-size:1em;">rsp2ebv()</span> and derive the data sections as an intermediate step.</p>
<p>The function is designed to be generic so that it can adapt to broad types of datasets and purposes. By default, <span style="font-family:courier; font-size:1em;">echanges()</span> considers the first layer as the target variable and the last layer as the change raster. If these layer positions are incorrect, the users must provide two additional arguments: <span style="font-family:courier; font-size:1em;">eco</span> and <span style="font-family:courier; font-size:1em;">change</span>. Such arguments provide regular expressions matching the names of the variables in the raster-data sections. For instance, we can use the arguments <span style="font-family:courier; font-size:1em;">eco</span> and <span style="font-family:courier; font-size:1em;">change</span> to provide the expressions <span style="font-family:courier; font-size:1em;">‘tree’</span> and <span style="font-family:courier; font-size:1em;">‘loss’</span> corresponding with the layers <span style="font-family:courier; font-size:1em;">‘treecover2000’</span> and <span style="font-family:courier; font-size:1em;">‘lossyear’</span>, respectively.</p>
<p>Arguments <span style="font-family:courier; font-size:1em;">eco_range</span> and <span style="font-family:courier; font-size:1em;">change_vals</span> control the pixel values processed in the target variable and the change raster.</p>
<p>The output of <span style="font-family:courier; font-size:1em;">echanges()</span> is a <span style="font-family:courier; font-size:1em;">RasterStack</span> object with dimensionality defined by the values provided in <span style="font-family:courier; font-size:1em;">change_vals</span>. Here we obtain three layers corresponding with deforestations observed during the three years.</p>
<p>For instance, let’s calculate forest cover area for the years 2005, 2010, and 2020, assuming a definition of forest as those areas with canopy cover between 95 and 100%</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">forExt &lt;-<span class="st"> </span><span class="kw">echanges</span>(ebv, <span class="dt">eco =</span> <span class="st">&#39;tree&#39;</span>, <span class="dt">eco_range=</span><span class="kw">c</span>(<span class="dv">95</span>,<span class="dv">100</span>), <span class="dt">echanges =</span> <span class="st">&#39;loss&#39;</span>, <span class="dt">change_vals =</span> <span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">20</span>), <span class="dt">binary_output=</span><span class="ot">TRUE</span>, <span class="dt">mc.cores =</span> <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">plotebv</span>(forExt)</a></code></pre></div>
<p>It is possible to produce instead, a map with cumulative deforested areas by setting the argument <span style="font-family:courier; font-size:1em;">get_unaffected=FALSE</span>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">defExt &lt;-<span class="st"> </span><span class="kw">echanges</span>(ebv, <span class="dt">eco =</span> <span class="st">&#39;tree&#39;</span>, <span class="dt">eco_range=</span><span class="kw">c</span>(<span class="dv">95</span>,<span class="dv">100</span>), <span class="dt">echanges =</span> <span class="st">&#39;loss&#39;</span>, <span class="dt">change_vals =</span> <span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">19</span>), <span class="dt">binary_output=</span><span class="ot">TRUE</span>, <span class="dt">mc.cores =</span> <span class="dv">6</span>,</a>
<a class="sourceLine" id="cb6-2" title="2">                   <span class="dt">get_unaffected=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw">plotebv</span>(defExt)</a></code></pre></div>
<p>The function also allows to calculate, for instance, the distribution of tree cover among deforested pixels by changing the argument <span style="font-family:courier; font-size:1em;">binary_output = FALSE</span>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">defExtTC &lt;-<span class="st"> </span><span class="kw">echanges</span>(ebv, <span class="dt">eco =</span> <span class="st">&#39;tree&#39;</span>, <span class="dt">eco_range=</span><span class="kw">c</span>(<span class="dv">95</span>,<span class="dv">100</span>), <span class="dt">echanges =</span> <span class="st">&#39;loss&#39;</span>, <span class="dt">change_vals =</span> <span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">19</span>), <span class="dt">binary_output=</span><span class="ot">FALSE</span>, <span class="dt">mc.cores =</span> <span class="dv">6</span>, <span class="dt">get_unaffected=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">plotebv</span>(defExtTC)</a></code></pre></div>
</div>
<div id="calculating-biodiversity-indicators-and-statistics" class="section level2">
<h2>Calculating biodiversity indicators and statistics</h2>
<p>The function <span style="font-family:courier; font-size:1em;">gaugeIndicator()</span> calculates biodiversity indicators by processing <span style="font-family:courier; font-size:1em;">RasterStack</span> ecosystem-change representations from <span style="font-family:courier; font-size:1em;">echanges()</span>. It can also inherit arguments from <span style="font-family:courier; font-size:1em;">rsp2ebv()</span> and <span style="font-family:courier; font-size:1em;">echanges()</span> to derive the <span style="font-family:courier; font-size:1em;">RasterStack</span> ecosystem-change representations.</p>
<p>The argument metric provides the name of a biodiversity indicator. By default, <span style="font-family:courier; font-size:1em;">metric = ‘area_ha’</span> tells the function to compute ecosystem areas (hectare).</p>
<p>Users can define any other biodiversity indicators inherited from the package landscapemetrics (Hesselbarth et al., 2019)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">library</span>(landscapemetrics)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">list_lsm</span>()</a></code></pre></div>
<p>The function output is a tibble of indicators ordered according to classes in the ecological variable. This output can be visualized using the in-package <span style="font-family:courier; font-size:1em;">plotind()</span>.</p>
<p>Let’s calculate the cummulative forest and deforested area in the three years analyzed above</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">forArea=<span class="kw">gaugeIndicator</span>(forExt, <span class="dt">ncores=</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb9-2" title="2">defArea=<span class="kw">gaugeIndicator</span>(defExt, <span class="dt">ncores=</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb9-3" title="3">forArea</a>
<a class="sourceLine" id="cb9-4" title="4">defArea</a>
<a class="sourceLine" id="cb9-5" title="5"><span class="kw">plotind</span>(forArea)</a>
<a class="sourceLine" id="cb9-6" title="6"><span class="kw">plotind</span>(defArea)</a></code></pre></div>
<p>The function allows to calculate the area of forest loss per canopy cover classes</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">defAreaTC=<span class="kw">gaugeIndicator</span>(defExtTC, <span class="dt">ncores=</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb10-2" title="2">defAreaTC</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">plotind</span>(defAreaTC)</a></code></pre></div>
<p>Users can also calculate statistics for each tree cover class using the <span style="font-family:courier; font-size:1em;">EBVstats()</span> function:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">chgstats=<span class="kw">EBVstats</span>(defExtTC)</a>
<a class="sourceLine" id="cb11-2" title="2">chgstats</a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">barplot</span>(chgstats)</a></code></pre></div>
</div>
<div id="sampling-indicators-across-grids" class="section level2">
<h2>Sampling indicators across grids</h2>
<p>The function <span style="font-family:courier; font-size:1em;">sampleIndicator()</span> divides each of the scenes in a stack into fixed-size grids and produces a biodiversity indicator for each grid. This function helps users to visualize changes in the spatial distribution of the biodiversity indicators.</p>
<p>Here we calculate changes in conditional entropy to measure ecosystem degradation in terms of changes of pixel adjacency and canopy-cover diversity. The function includes an argument <span style="font-family:courier; font-size:1em;">side</span> that defines the cell-size. Users can use this argument to define a customized grid size. Using the default settings for the side argument means that the algorithm will automatically produce an optimum grid size (m) that returns at least a numeric value for each grid in the scene. The function output is a <span style="font-family:courier; font-size:1em;">RasterStack</span> object with the same number of layers as the ecosystem-change map.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># Let&#39;s first calculate forest extent by all tree cover classes for 2019</span></a>
<a class="sourceLine" id="cb12-2" title="2">ech &lt;-<span class="st"> </span><span class="kw">echanges</span>(ebv, <span class="dt">eco =</span> <span class="st">&#39;tree&#39;</span>, <span class="dt">echanges =</span> <span class="st">&#39;loss&#39;</span>,</a>
<a class="sourceLine" id="cb12-3" title="3">                <span class="dt">change_vals =</span><span class="dv">19</span>, <span class="dt">mc.cores =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb12-4" title="4"><span class="kw">plot</span>(ech)</a>
<a class="sourceLine" id="cb12-5" title="5"></a>
<a class="sourceLine" id="cb12-6" title="6">si &lt;-<span class="st"> </span><span class="kw">sampleIndicator</span>(ech, <span class="dt">mc.cores =</span> <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb12-7" title="7">si</a>
<a class="sourceLine" id="cb12-8" title="8"><span class="kw">plotebv</span>(si)</a></code></pre></div>
</div>
<div id="citing-ecochange" class="section level2">
<h2>Citing ecochange</h2>
<p>The package can be cited using the <span style="font-family:courier; font-size:1em;">citation()</span> function. Please cite ecochange appropriately in your work.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">citation</span>(<span class="st">&#39;ecochange&#39;</span>)</a></code></pre></div>
</div>
<div id="data-sources-and-references" class="section level2">
<h2>Data sources and references</h2>
<p>Hansen, M. C., Potapov, P. V., Moore, R., Hancher, M., Turubanova, S. A. A., Tyukavina, A., … &amp; Kommareddy, A. (2013). High-resolution global maps of 21st-century forest cover change. science, 342(6160), 850-853.</p>
<p>Hesselbarth, M.H., Sciaini, M., With, K.A., Wiegand, K., &amp; Nowosad, J., (2019). landscapemetrics: an open-source R tool to calculate landscape metrics. Ecography.</p>
<p>Pekel, J. F., Belward, A., &amp; Gorelick, N. (2017). Global Water Surface Dynamics: Toward a Near Real Time Monitoring Using Landsat and Sentinel Data. In AGU Fall Meeting Abstracts.</p>
<p>Sexton, J. O., Song, X. P., Feng, M., Noojipady, P., Anand, A., Huang, C., … &amp; Townshend, J. R. (2013). Global, 30-m resolution continuous fields of tree cover: Landsat-based rescaling of MODIS vegetation continuous fields with lidar-based estimates of error. International Journal of Digital Earth, 6(5), 427-448.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
